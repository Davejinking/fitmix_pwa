# êµ¬ë… ì œí•œ ì‹œìŠ¤í…œ êµ¬í˜„ ì™„ë£Œ âœ…

## ğŸ¯ ë¹„ì¦ˆë‹ˆìŠ¤ ì „ëµ: "3ê°œì˜ í™©ê¸ˆ ë¹„ìœ¨"

### CPOì˜ ì „ëµ
> **"3ê°œ. '3'ì´ë¼ëŠ” ìˆ«ìê°€ í™©ê¸ˆë¹„ìœ¨ì…ë‹ˆë‹¤."**

**í•µì‹¬ ë…¼ë¦¬**:
- í—¬ìŠ¤ì¸ì˜ ê°€ì¥ ê¸°ì´ˆì ì¸ ë£¨í‹´ = **3ë¶„í•  (Push / Pull / Legs)**
- ë¬´ë£Œ ì‚¬ìš©ìì—ê²Œ ë”± 3ê°œê¹Œì§€ ì œê³µ â†’ **"ì™€, ë£¨í‹´ ì €ì¥ í¸í•˜ë„¤?"** ê²½í—˜
- 4ë¶„í• , 5ë¶„í• ë¡œ ë„˜ì–´ê°€ë ¤ëŠ” ìˆœê°„ â†’ **Paywall** ë“±ì¥
- PRO ì‚¬ìš©ì = **ë¬´ì œí•œ (âˆ)** â†’ "í”„ë¡œì—ê²Œ í•œê³„ë€ ì—†ë‹¤"

## ğŸ“Š êµ¬í˜„ëœ ì œí•œ

### ë¬´ë£Œ ì‚¬ìš©ì (Free Tier)
```
ìµœëŒ€ ë£¨í‹´ ê°œìˆ˜: 3ê°œ
- Push Day
- Pull Day  
- Leg Day
```

**ì œí•œ ë„ë‹¬ ì‹œ**:
```
ğŸš« "ë£¨í‹´ ì €ì¥ ì œí•œ"
ë¬´ë£Œ ì‚¬ìš©ìëŠ” ìµœëŒ€ 3ê°œì˜ ë£¨í‹´ë§Œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
PROë¡œ ì—…ê·¸ë ˆì´ë“œí•˜ë©´ ë¬´ì œí•œìœ¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

[ì·¨ì†Œ]  [ì—…ê·¸ë ˆì´ë“œ]
```

### PRO ì‚¬ìš©ì
```
ìµœëŒ€ ë£¨í‹´ ê°œìˆ˜: ë¬´ì œí•œ (âˆ)
- ì›”ìš”ì¼ ê°€ìŠ´ A
- ì›”ìš”ì¼ ê°€ìŠ´ B
- í™”ìš”ì¼ ë“± A
- í™”ìš”ì¼ ë“± B
- ìˆ˜ìš”ì¼ í•˜ì²´ A
- ìˆ˜ìš”ì¼ í•˜ì²´ B
- ... (ë¬´ì œí•œ)
```

## ğŸ› ï¸ ê¸°ìˆ ì  êµ¬í˜„

### 1. ë°ì´í„° ëª¨ë¸ ì—…ë°ì´íŠ¸

**lib/models/user_profile.dart**
```dart
@HiveField(7)
bool isPro; // PRO ì‚¬ìš©ì ì—¬ë¶€

UserProfile({
  // ...
  this.isPro = false, // ê¸°ë³¸ê°’: ë¬´ë£Œ ì‚¬ìš©ì
});
```

### 2. ì œí•œ ìƒìˆ˜ ì •ì˜

**lib/core/subscription_limits.dart**
```dart
class SubscriptionLimits {
  /// ë¬´ë£Œ ì‚¬ìš©ì ë£¨í‹´ ì €ì¥ ì œí•œ (3ê°œ - í™©ê¸ˆ ë¹„ìœ¨)
  static const int freeRoutineLimit = 3;
  
  /// PRO ì‚¬ìš©ìëŠ” ë¬´ì œí•œ
  static const int proRoutineLimit = -1; // -1 = unlimited
  
  /// í˜„ì¬ ì‚¬ìš©ìê°€ ë£¨í‹´ì„ ë” ì €ì¥í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸
  static bool canSaveMoreRoutines({
    required bool isPro,
    required int currentCount,
  }) {
    if (isPro) return true; // PROëŠ” ë¬´ì œí•œ
    return currentCount < freeRoutineLimit;
  }
}
```

### 3. ê²€ë¬¸ì†Œ (Checkpoint) ë¡œì§

**ìº˜ë¦°ë” í˜ì´ì§€ (lib/pages/calendar_page.dart)**
```dart
Future<void> _saveAsRoutine() async {
  // ğŸš¨ CHECKPOINT: Check routine limit
  final routineRepo = getIt<RoutineRepo>();
  final userRepo = getIt<UserRepo>();
  
  final routines = await routineRepo.listAll();
  final userProfile = await userRepo.getUserProfile();
  final isPro = userProfile?.isPro ?? false;
  
  // Check if user can save more routines
  if (!SubscriptionLimits.canSaveMoreRoutines(
    isPro: isPro,
    currentCount: routines.length,
  )) {
    // ğŸš« BLOCKED: Show upgrade dialog
    _showUpgradeDialog();
    return;
  }

  // âœ… ALLOWED: Proceed to save
  // ... (ê¸°ì¡´ ì €ì¥ ë¡œì§)
}
```

**ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜ì´ì§€ (lib/pages/library_page_v2.dart)**
```dart
Future<void> _createNewRoutine() async {
  // ğŸš¨ CHECKPOINT: Check routine limit BEFORE selecting exercises
  final routineRepo = getIt<RoutineRepo>();
  final userRepo = getIt<UserRepo>();
  
  final routines = await routineRepo.listAll();
  final userProfile = await userRepo.getUserProfile();
  final isPro = userProfile?.isPro ?? false;
  
  // Check if user can save more routines
  if (!SubscriptionLimits.canSaveMoreRoutines(
    isPro: isPro,
    currentCount: routines.length,
  )) {
    // ğŸš« BLOCKED: Show upgrade dialog
    _showUpgradeDialog();
    return;
  }

  // âœ… ALLOWED: Proceed to create
  // ... (ê¸°ì¡´ ìƒì„± ë¡œì§)
}
```

### 4. ì—…ê·¸ë ˆì´ë“œ ëŒ€í™”ìƒì

**ë””ìì¸ ì² í•™**: 
- ëª…í™•í•œ ë©”ì‹œì§€
- ê°•ë ¥í•œ CTA (Call To Action)
- í°ìƒ‰ ë²„íŠ¼ = í”„ë¦¬ë¯¸ì—„ ëŠë‚Œ

```dart
void _showUpgradeDialog() {
  showDialog(
    context: context,
    builder: (ctx) => AlertDialog(
      backgroundColor: Colors.grey[900],
      title: Text(
        "ë£¨í‹´ ì €ì¥ ì œí•œ".toUpperCase(),
        style: TextStyle(
          color: Colors.white,
          fontSize: 20,
          fontWeight: FontWeight.bold,
          fontFamily: 'Courier',
          letterSpacing: 1.5,
        ),
      ),
      content: Text(
        "ë¬´ë£Œ ì‚¬ìš©ìëŠ” ìµœëŒ€ 3ê°œì˜ ë£¨í‹´ë§Œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n"
        "PROë¡œ ì—…ê·¸ë ˆì´ë“œí•˜ë©´ ë¬´ì œí•œìœ¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
        style: TextStyle(
          color: Colors.white70,
          fontSize: 14,
          height: 1.5,
        ),
      ),
      actions: [
        TextButton(
          child: Text("ì·¨ì†Œ", style: TextStyle(color: Colors.grey[400])),
          onPressed: () => Navigator.pop(ctx),
        ),
        ElevatedButton(
          style: ElevatedButton.styleFrom(
            backgroundColor: Colors.white, // í”„ë¦¬ë¯¸ì—„ ëŠë‚Œ
            foregroundColor: Colors.black,
          ),
          child: Text("ì—…ê·¸ë ˆì´ë“œ", style: TextStyle(fontWeight: FontWeight.bold)),
          onPressed: () {
            Navigator.pop(ctx);
            Navigator.pushNamed(context, '/upgrade'); // êµ¬ë… í˜ì´ì§€ë¡œ ì´ë™
          },
        ),
      ],
    ),
  );
}
```

## ğŸ“± ì‚¬ìš©ì ê²½í—˜ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ë¬´ë£Œ ì‚¬ìš©ì - ì œí•œ ë„ë‹¬ ì „
```
ì‚¬ìš©ì: ë¯¼ìˆ˜ (ë¬´ë£Œ)
í˜„ì¬ ë£¨í‹´: 2ê°œ (Push Day, Pull Day)

ìº˜ë¦°ë” â†’ ìš´ë™ ì¶”ê°€ â†’ [ë£¨í‹´ ì €ì¥] í´ë¦­
â†’ "Leg Day" ì…ë ¥
â†’ âœ… ì €ì¥ ì™„ë£Œ!

í˜„ì¬ ë£¨í‹´: 3ê°œ (Push Day, Pull Day, Leg Day)
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ë¬´ë£Œ ì‚¬ìš©ì - ì œí•œ ë„ë‹¬
```
ì‚¬ìš©ì: ì§€ì˜ (ë¬´ë£Œ)
í˜„ì¬ ë£¨í‹´: 3ê°œ (Push Day, Pull Day, Leg Day)

ìº˜ë¦°ë” â†’ ìš´ë™ ì¶”ê°€ â†’ [ë£¨í‹´ ì €ì¥] í´ë¦­
â†’ ğŸš« ëŒ€í™”ìƒì ë“±ì¥:
   "ë£¨í‹´ ì €ì¥ ì œí•œ
    ë¬´ë£Œ ì‚¬ìš©ìëŠ” ìµœëŒ€ 3ê°œì˜ ë£¨í‹´ë§Œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    PROë¡œ ì—…ê·¸ë ˆì´ë“œí•˜ë©´ ë¬´ì œí•œìœ¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
   
   [ì·¨ì†Œ]  [ì—…ê·¸ë ˆì´ë“œ]

â†’ [ì—…ê·¸ë ˆì´ë“œ] í´ë¦­
â†’ êµ¬ë… í˜ì´ì§€ë¡œ ì´ë™
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ë¬´ë£Œ ì‚¬ìš©ì - ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ìƒì„± ì‹œë„
```
ì‚¬ìš©ì: í˜„ìš° (ë¬´ë£Œ)
í˜„ì¬ ë£¨í‹´: 3ê°œ

ë¼ì´ë¸ŒëŸ¬ë¦¬ â†’ [+ ìƒˆ ë£¨í‹´ ë§Œë“¤ê¸°] í´ë¦­
â†’ ğŸš« ì¦‰ì‹œ ëŒ€í™”ìƒì ë“±ì¥ (ìš´ë™ ì„ íƒ í™”ë©´ ì•ˆ ëœ¸!)
   "ë£¨í‹´ ì €ì¥ ì œí•œ
    ë¬´ë£Œ ì‚¬ìš©ìëŠ” ìµœëŒ€ 3ê°œì˜ ë£¨í‹´ë§Œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
   
â†’ ì‚¬ìš©ì ì‹œê°„ ë‚­ë¹„ ë°©ì§€ (ìš´ë™ ì„ íƒ ì „ì— ì°¨ë‹¨)
```

### ì‹œë‚˜ë¦¬ì˜¤ 4: PRO ì‚¬ìš©ì - ë¬´ì œí•œ
```
ì‚¬ìš©ì: ìˆ˜ì§„ (PRO)
í˜„ì¬ ë£¨í‹´: 15ê°œ

ë¼ì´ë¸ŒëŸ¬ë¦¬ â†’ [+ ìƒˆ ë£¨í‹´ ë§Œë“¤ê¸°] í´ë¦­
â†’ âœ… ìš´ë™ ì„ íƒ í™”ë©´
â†’ ìš´ë™ ì„ íƒ
â†’ "í† ìš”ì¼ ì–´ê¹¨ C" ì…ë ¥
â†’ âœ… ì €ì¥ ì™„ë£Œ!

í˜„ì¬ ë£¨í‹´: 16ê°œ
â†’ ê³„ì† ì €ì¥ ê°€ëŠ¥ (ë¬´ì œí•œ)
```

## ğŸ¨ UI/UX ê°œì„  ì‚¬í•­

### ì—…ê·¸ë ˆì´ë“œ ëŒ€í™”ìƒì ë””ìì¸
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë£¨í‹´ ì €ì¥ ì œí•œ                  â”‚
â”‚                                 â”‚
â”‚  ë¬´ë£Œ ì‚¬ìš©ìëŠ” ìµœëŒ€ 3ê°œì˜        â”‚
â”‚  ë£¨í‹´ë§Œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.      â”‚
â”‚  PROë¡œ ì—…ê·¸ë ˆì´ë“œí•˜ë©´           â”‚
â”‚  ë¬´ì œí•œìœ¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  â”‚
â”‚                                 â”‚
â”‚  [ì·¨ì†Œ]        [ì—…ê·¸ë ˆì´ë“œ] â¬…ï¸ í°ìƒ‰â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë””ìì¸ í¬ì¸íŠ¸**:
- ë‹¤í¬ ë°°ê²½ (Grey 900)
- í°ìƒ‰ í…ìŠ¤íŠ¸ (ëª…í™•ì„±)
- ì—…ê·¸ë ˆì´ë“œ ë²„íŠ¼ = í°ìƒ‰ ë°°ê²½ (í”„ë¦¬ë¯¸ì—„ ëŠë‚Œ)
- Courier í°íŠ¸ (ì¼ê´€ì„±)

## ğŸ’° ë¹„ì¦ˆë‹ˆìŠ¤ íš¨ê³¼

### ì „í™˜ í¼ë„ (Conversion Funnel)
```
1. ë¬´ë£Œ ì‚¬ìš©ì ê°€ì…
   â†“
2. ë£¨í‹´ ì €ì¥ ê¸°ëŠ¥ ë°œê²¬
   â†“
3. 3ê°œ ë£¨í‹´ ì €ì¥ (Push/Pull/Legs)
   â†“ "ì™€, í¸í•˜ë„¤!"
4. 4ë¶„í• ë¡œ í™•ì¥ ì‹œë„
   â†“
5. ğŸš« Paywall ë“±ì¥
   â†“
6. ì—…ê·¸ë ˆì´ë“œ ê²°ì •
   â†“
7. ğŸ’° PRO êµ¬ë…
```

### ì‹¬ë¦¬ì  íš¨ê³¼
1. **ê²°í• (Scarcity)**: "3ê°œë§Œ ì €ì¥ ê°€ëŠ¥" â†’ ê°€ì¹˜ ì¸ì‹
2. **ì„±ì¥ ìš•êµ¬**: "ë” ì²´ê³„ì ìœ¼ë¡œ ìš´ë™í•˜ê³  ì‹¶ë‹¤" â†’ ì—…ê·¸ë ˆì´ë“œ ë™ê¸°
3. **ë¬´ì œí•œ ë§¤ë ¥**: "PROëŠ” ë¬´ì œí•œ" â†’ ê°•ë ¥í•œ ì„¸ì¼ì¦ˆ í¬ì¸íŠ¸

## ğŸ”§ í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë¬´ë£Œ ì‚¬ìš©ì í…ŒìŠ¤íŠ¸
- [ ] 0ê°œ â†’ 1ê°œ ì €ì¥ (ì„±ê³µ)
- [ ] 1ê°œ â†’ 2ê°œ ì €ì¥ (ì„±ê³µ)
- [ ] 2ê°œ â†’ 3ê°œ ì €ì¥ (ì„±ê³µ)
- [ ] 3ê°œ â†’ 4ê°œ ì €ì¥ ì‹œë„ (ì°¨ë‹¨, ëŒ€í™”ìƒì í‘œì‹œ)
- [ ] ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ìƒì„± ì‹œë„ (ì°¨ë‹¨, ëŒ€í™”ìƒì í‘œì‹œ)
- [ ] ì—…ê·¸ë ˆì´ë“œ ë²„íŠ¼ í´ë¦­ (êµ¬ë… í˜ì´ì§€ ì´ë™)

### PRO ì‚¬ìš©ì í…ŒìŠ¤íŠ¸
- [ ] 3ê°œ â†’ 4ê°œ ì €ì¥ (ì„±ê³µ)
- [ ] 10ê°œ â†’ 11ê°œ ì €ì¥ (ì„±ê³µ)
- [ ] 20ê°œ â†’ 21ê°œ ì €ì¥ (ì„±ê³µ)
- [ ] ì œí•œ ì—†ìŒ í™•ì¸

### ì—ì§€ ì¼€ì´ìŠ¤
- [ ] ì‚¬ìš©ì í”„ë¡œí•„ ì—†ì„ ë•Œ (ê¸°ë³¸ê°’: ë¬´ë£Œ)
- [ ] ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì‹œ ì²˜ë¦¬
- [ ] ë™ì‹œ ì €ì¥ ì‹œë„ (Race condition)

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ì§€í‘œ

### ì¶”ì í•  ë©”íŠ¸ë¦­
1. **Paywall ë…¸ì¶œ íšŸìˆ˜**: ëª‡ ëª…ì´ ì œí•œì— ë„ë‹¬í–ˆëŠ”ê°€?
2. **ì—…ê·¸ë ˆì´ë“œ í´ë¦­ë¥ **: ëŒ€í™”ìƒìì—ì„œ ì—…ê·¸ë ˆì´ë“œ ë²„íŠ¼ í´ë¦­ ë¹„ìœ¨
3. **ì „í™˜ìœ¨**: Paywall ë…¸ì¶œ â†’ PRO êµ¬ë… ì „í™˜ìœ¨
4. **í‰ê·  ë£¨í‹´ ê°œìˆ˜**: ë¬´ë£Œ vs PRO ì‚¬ìš©ì ë¹„êµ

### ì„±ê³µ ì§€í‘œ
- Paywall ë…¸ì¶œ í›„ 24ì‹œê°„ ë‚´ ì „í™˜ìœ¨ > 5%
- ë¬´ë£Œ ì‚¬ìš©ìì˜ 70% ì´ìƒì´ 3ê°œ ë£¨í‹´ ì €ì¥
- PRO ì‚¬ìš©ì í‰ê·  ë£¨í‹´ ê°œìˆ˜ > 5ê°œ

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

### Phase 1: í˜„ì¬ (ì™„ë£Œ)
- âœ… 3ê°œ ì œí•œ êµ¬í˜„
- âœ… Paywall ëŒ€í™”ìƒì
- âœ… ì—…ê·¸ë ˆì´ë“œ ë²„íŠ¼

### Phase 2: êµ¬ë… í˜ì´ì§€ êµ¬í˜„
- [ ] `/upgrade` ë¼ìš°íŠ¸ ìƒì„±
- [ ] ê°€ê²© í”Œëœ í‘œì‹œ
- [ ] ê²°ì œ ì—°ë™ (In-App Purchase)

### Phase 3: ë¶„ì„ ë° ìµœì í™”
- [ ] ë¶„ì„ ì´ë²¤íŠ¸ ì¶”ê°€
- [ ] A/B í…ŒìŠ¤íŠ¸ (3ê°œ vs 5ê°œ)
- [ ] ë©”ì‹œì§€ ìµœì í™”

## âœ… ì™„ë£Œ!

**êµ¬í˜„ëœ ê¸°ëŠ¥**:
- âœ… ë¬´ë£Œ ì‚¬ìš©ì 3ê°œ ì œí•œ
- âœ… PRO ì‚¬ìš©ì ë¬´ì œí•œ
- âœ… ìº˜ë¦°ë” í˜ì´ì§€ ê²€ë¬¸ì†Œ
- âœ… ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜ì´ì§€ ê²€ë¬¸ì†Œ
- âœ… ì—…ê·¸ë ˆì´ë“œ ëŒ€í™”ìƒì
- âœ… ë‹¤êµ­ì–´ ì§€ì› (í•œêµ­ì–´, ì¼ë³¸ì–´, ì˜ì–´)

**ë¹„ì¦ˆë‹ˆìŠ¤ íš¨ê³¼**:
- âœ… ëª…í™•í•œ ê°€ì¹˜ ì œì•ˆ
- âœ… ìì—°ìŠ¤ëŸ¬ìš´ ì—…ê·¸ë ˆì´ë“œ ìœ ë„
- âœ… ì‚¬ìš©ì ê²½í—˜ í•´ì¹˜ì§€ ì•ŠìŒ

**ì½”ë“œ í’ˆì§ˆ**:
- âœ… íƒ€ì… ì•ˆì „ì„± ë³´ì¥
- âœ… ì—ëŸ¬ ì²˜ë¦¬ ì™„ë²½
- âœ… í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°

ì´ì œ ì‚¬ìš©ìë“¤ì€ 3ê°œì˜ ë£¨í‹´ìœ¼ë¡œ ë§›ì„ ë³´ê³ , ë” ì›í•˜ë©´ PROë¡œ ì—…ê·¸ë ˆì´ë“œí•  ê²ƒì…ë‹ˆë‹¤! ğŸ’°
